<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- CSS 리셋 및 사용자 정의 CSS 파일 링크 -->
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="headerFX.css">
    <!-- 헤더 효과를 적용하기 위한 자바스크립트 파일 링크 -->
    <script src="headerFX.js"></script>
</head>

<body>

    <!-- 페이지 전체를 감싸는 wrapper -->
    <div class="wrapper">
        <!-- 헤더 섹션 -->
        <header class="header">
            <div class="headArea">
                <!-- 로고 영역 -->
                <div class="hLogo">
                    <!-- 메인 페이지로 이동하는 링크 -->
                    <a href="main.html"><img src="../IMG/로고2.png" alt="메인로고"></a>
                </div>
                <!-- 내비게이션 메뉴 -->
                <nav class="hMenu">
                    <!-- 메뉴 항목 -->
                    <div class="menu">
                        <ul class="depth1">
                            <!-- 주문/결제 페이지로 이동하는 링크 -->
                            <li><a href="menu.html" class="dth1 ">주문/결제</a></li>
                            <!-- MD상품 페이지로 이동하는 링크 -->
                            <li><a href="special.html" class="dth1 ">MD상품</a></li>
                            <!-- 이벤트 페이지로 이동하는 링크 -->
                            <li><a href="event.html" class="dth1  ">이벤트</a></li>
                            <!-- 고객지원 페이지로 이동하는 링크 -->
                            <li><a href="board.html" class="dth1  ">고객지원</a></li>
                        </ul>
                    </div>
                    <!-- 로그인 및 회원가입 메뉴 -->
                    <div class="util" id="userUtility">
                        <!-- 로그인 페이지로 이동하는 링크 -->
                        <a href="login.html" class="mLogin" title="임차문의로 이동" id="loginLink">로그인</a>
                        <!-- 회원가입 페이지로 이동하는 링크 -->
                        <a href="signUp.html" class="mSignin" title="인재채용으로 이동">회원가입</a>
                        <!-- 다른 언어 사이트로 이동하는 링크 (주석 처리됨) -->
                        <!-- <a href="" class="lang" title="영문사이트로 이동">ENG</a> -->
                    </div>
                    <!-- 로그인 후 메뉴 -->
                    <div class="util" id="loggedInUtility" style="display: none;">
                        <!-- 환영 메시지 -->
                        <span id="welcomeMessage"></span>
                        <!-- 로그아웃 버튼 -->
                        <a href="#" onclick="logout()" class="logoutButton">로그아웃</a>
                    </div>
                </nav>
            </div>
        </header>
    </div>

    <!-- 로그인 양식 -->
    <form id="loginForm">
        <div class="box1">
            <!-- 페이지 제목 -->
            <h2>로그인 페이지</h2>
            <!-- 아이디 및 비밀번호 입력 필드 -->
            <div class="id-input-container">
                <input type="text" class="text-field" name="id" id="id" placeholder="아이디">
                <input type="password" class="text-field" name="pw" id="pw" placeholder="비밀번호"><br>
                <!-- 로그인 버튼 -->
                <input type="submit" class="btn" id="loginBtn" value="로그인" disabled>
            </div>
            <!-- 관련 링크 -->
            <div class="link">
                <!-- 회원가입 페이지로 이동하는 링크 -->
                <a href="signUp.html">계정이 없어요?</a>
                <!-- 비밀번호 재설정 페이지로 이동하는 링크 -->
                <a href="">비밀번호를 잊어먹었나요?</a>
            </div>
            <!-- 로그인 오류 메시지 출력 영역 -->
            <div id="errorMessage"></div>
        </div>
    </form>

    <!-- 로그인 관련 스크립트 -->
    <script>
        const loginForm = document.getElementById('loginForm');
        const idInput = document.getElementById('id');
        const pwInput = document.getElementById('pw');
        const loginBtn = document.getElementById('loginBtn');

        // 로그인 양식 제출 시 동작
        loginForm.addEventListener('submit', function(event) {
            event.preventDefault();

            // 입력된 아이디 및 비밀번호 가져오기
            const enteredUsername = idInput.value;
            const enteredPassword = pwInput.value;

            // 로컬 스토리지에서 비밀번호 확인
            const storedPassword = localStorage.getItem(enteredUsername);

            // 입력된 비밀번호와 저장된 비밀번호가 일치하는지 확인
            if (storedPassword === enteredPassword) {
                alert('로그인 성공!');
                // 입력 필드 초기화 및 로그인 상태 저장
                idInput.value = '';
                pwInput.value = '';
                localStorage.setItem('isLoggedIn', 'true');
                localStorage.setItem('username', enteredUsername);
                // 메인 페이지로 이동
                window.location.href = 'main.html'; 
            } else {
                alert('아이디 또는 비밀번호가 일치하지 않습니다.');
            }
        });

        // 비밀번호 입력 상태에 따라 로그인 버튼 활성화/비활성화
        pwInput.addEventListener('input', function() {
            loginBtn.disabled = !pwInput.value; 
        });
    </script>
</body>

</html>
